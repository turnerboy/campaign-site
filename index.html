<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Election Countdown</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./style.css">
</head>
<body>

  <!-- Left side: Photo -->
  <div class="left-section">
    <img src="candidate-me.jpg" alt="Candidate Photo" />
  </div>

  <!-- Right side: Timer, Statement, Notification Bell, etc. -->
  <div class="right-section">
    <h1>My Campaign</h1>
    
    <div class="timer">
      <h2 id="countdown"></h2>
    </div>

    <div class="button-container">
      <!-- Button to open the statement modal -->
      <button id="open-statement">Read My Statement</button>

      <!-- Button to request notification permission -->
      <button id="notify-btn">Notify Me When Time Is Up</button>

      <!-- This link could redirect to your voting page once available -->
      <button onclick="window.location.href='https://example.com/vote'">
        Go to Voting Page
      </button>
    </div>
  </div>

  <!-- Modal Structure -->
  <div id="modal-overlay" class="modal-overlay">
    <div class="modal">
      <button class="close-btn" id="close-statement">&times;</button>
      <h3>My Statement</h3>
      <p>
        This is where your detailed candidate statement goes. 
        Explain why you’re running, your qualifications, and so on!
      </p>
    </div>
  </div>

  <script>
    // --- Countdown Timer (March 4) ---
    const countdownElement = document.getElementById('countdown');
    // Change this to your official end date/time if you have one
    const targetDate = new Date('2025-03-04T00:00:00');

    function updateCountdown() {
      const now = new Date();
      const diff = targetDate - now;
      
      if (diff <= 0) {
        countdownElement.textContent = "Voting is Live!";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      countdownElement.textContent = 
        `${days}d ${hours}h ${minutes}m ${seconds}s until voting starts!`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // --- Modal Logic ---
    const modalOverlay = document.getElementById('modal-overlay');
    const openStatementBtn = document.getElementById('open-statement');
    const closeStatementBtn = document.getElementById('close-statement');

    openStatementBtn.addEventListener('click', () => {
      modalOverlay.style.display = 'flex';
    });

    closeStatementBtn.addEventListener('click', () => {
      modalOverlay.style.display = 'none';
    });

    // --- Basic Notification Demo ---
    const notifyBtn = document.getElementById('notify-btn');
    notifyBtn.addEventListener('click', () => {
      // Request browser notification permission
      if ('Notification' in window) {
        Notification.requestPermission().then(permission => {
          if (permission === 'granted') {
            // Just for demonstration, we schedule a notification at the target time
            const timeUntilTarget = targetDate - new Date();
            if (timeUntilTarget > 0) {
              setTimeout(() => {
                new Notification('Voting Time!', {
                  body: 'The countdown has ended. Go vote!'
                });
              }, timeUntilTarget);
              alert('You will be notified when it’s time!');
            } else {
              alert('It’s already voting time!');
            }
          } else {
            alert('Notification permission denied.');
          }
        });
      } else {
        alert('Notifications are not supported in this browser.');
      }
    });
  </script>

</body>
</html>
